{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const refs = {\r\n  form: document.querySelector('.form'),\r\n  input: document.querySelector('input'),\r\n  btn: document.querySelector('button'),\r\n  gallery: document.querySelector('.gallery'),\r\n  loader: document.querySelector('.loader'),\r\n};\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport const axiosParams = {\r\n  key: '49549319-ba908525a889591d8dce42897',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  safesearch: true,\r\n  per_page: 21,\r\n};\r\n\r\nexport function getImagesByQuery(axiosParams) {\r\n  return axios.get('', { params: axiosParams });\r\n}\r\n","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport { refs } from './refs';\r\n\r\nconst slOptions = {\r\n  overlay: true,\r\n  overlayOpacity: 0.8,\r\n  captions: true,\r\n  captionSelector: 'img',\r\n  captionsData: 'alt',\r\n  captionPosition: 'bottom',\r\n  captionDelay: 250,\r\n};\r\n\r\nconst lightbox = new SimpleLightbox('.gallery a', slOptions);\r\n\r\nexport function clearGallery() {\r\n  refs.gallery.innerHTML = '';\r\n}\r\n\r\nexport function createGallery(data) {\r\n  const galleryMarkup = data\r\n    .map(\r\n      ({\r\n        webformatURL: preview,\r\n        largeImageURL: original,\r\n        tags: description,\r\n        likes,\r\n        views,\r\n        comments,\r\n        downloads,\r\n      }) => {\r\n        return `<li class=\"gallery-item\">\r\n  <a class=\"gallery-link\" href=\"${original}\">\r\n    <img class=\"gallery-image\" src=\"${preview}\" alt=\"${description}\" />\r\n  </a>\r\n  <ul class=\"gallery-item-description\">\r\n    <li class=\"gallery-item-param\"><span class=\"gallery-item-param-style\">Likes</span><span>${likes}</span></li>\r\n    <li class=\"gallery-item-param\"><span class=\"gallery-item-param-style\">Views</span><span>${views}</span></li>\r\n    <li class=\"gallery-item-param\"><span class=\"gallery-item-param-style\">Comments</span><span>${comments}</span></li>\r\n    <li class=\"gallery-item-param\"><span class=\"gallery-item-param-style\">Downloads</span><span>${downloads}</span></li>\r\n</ul>\r\n</li>`;\r\n      }\r\n    )\r\n    .join('');\r\n\r\n  refs.gallery.insertAdjacentHTML('beforeend', galleryMarkup);\r\n  lightbox.refresh();\r\n}\r\n\r\nexport function showLoader() {\r\n  refs.loader.classList.remove('hidden');\r\n}\r\n\r\nexport function hideLoader() {\r\n  refs.loader.classList.add('hidden');\r\n}\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport { refs } from './js/refs';\r\nimport { axiosParams, getImagesByQuery } from './js/pixabay-api';\r\nimport {\r\n  clearGallery,\r\n  createGallery,\r\n  showLoader,\r\n  hideLoader,\r\n} from './js/render-functions';\r\n\r\nfunction checkIfNoResults(response) {\r\n  if (response.data.hits.length === 0) {\r\n    iziToast.show({\r\n      message:\r\n        'Sorry, there are no images matching your search query. Please try again!',\r\n      messageColor: '#FFFFFF',\r\n      backgroundColor: '#f06363',\r\n      messageColor: 'white',\r\n      position: 'topRight',\r\n      maxWidth: 432,\r\n    });\r\n  }\r\n  return response.data;\r\n}\r\n\r\nfunction onSubmit(event) {\r\n  event.preventDefault();\r\n  clearGallery();\r\n  const searchWord = event.currentTarget.elements['search-text'].value;\r\n  if (searchWord.trim() === '') {\r\n    iziToast.show({\r\n      message: 'Please type the search word in input!',\r\n      messageColor: '#FFFFFF',\r\n      backgroundColor: '#f06363',\r\n      messageColor: 'white',\r\n      position: 'topRight',\r\n      maxWidth: 432,\r\n    });\r\n    return;\r\n  } else {\r\n    axiosParams.q = searchWord.trim();\r\n  }\r\n  showLoader();\r\n  getImagesByQuery(axiosParams)\r\n    .then(response => checkIfNoResults(response))\r\n    .then(data => createGallery(data.hits))\r\n    .catch(error => console.log(error))\r\n    .finally(() => {\r\n      refs.form.reset();\r\n      hideLoader();\r\n    });\r\n}\r\n\r\nrefs.form.addEventListener('submit', onSubmit);\r\n"],"names":["refs","axios","axiosParams","getImagesByQuery","slOptions","lightbox","SimpleLightbox","clearGallery","createGallery","data","galleryMarkup","preview","original","description","likes","views","comments","downloads","showLoader","hideLoader","checkIfNoResults","response","iziToast","onSubmit","event","searchWord","error"],"mappings":"owBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,OAAO,EACrC,IAAK,SAAS,cAAc,QAAQ,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECJAC,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAc,CACzB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACZ,EAEO,SAASC,EAAiBD,EAAa,CAC5C,OAAOD,EAAM,IAAI,GAAI,CAAE,OAAQC,CAAW,CAAE,CAC9C,CCVA,MAAME,EAAY,CAChB,QAAS,GACT,eAAgB,GAChB,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,aAAcF,CAAS,EAEpD,SAASG,GAAe,CAC7BP,EAAK,QAAQ,UAAY,EAC3B,CAEO,SAASQ,EAAcC,EAAM,CAClC,MAAMC,EAAgBD,EACnB,IACC,CAAC,CACC,aAAcE,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,kCACmBL,CAAQ;AAAA,sCACJD,CAAO,UAAUE,CAAW;AAAA;AAAA;AAAA,8FAG4BC,CAAK;AAAA,8FACLC,CAAK;AAAA,iGACFC,CAAQ;AAAA,kGACPC,CAAS;AAAA;AAAA,MAItG,EACA,KAAK,EAAE,EAEVjB,EAAK,QAAQ,mBAAmB,YAAaU,CAAa,EAC1DL,EAAS,QAAO,CAClB,CAEO,SAASa,GAAa,CAC3BlB,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASmB,GAAa,CAC3BnB,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CC9CA,SAASoB,EAAiBC,EAAU,CAClC,OAAIA,EAAS,KAAK,KAAK,SAAW,GAChCC,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,aAAc,QACd,SAAU,WACV,SAAU,GAChB,CAAK,EAEID,EAAS,IAClB,CAEA,SAASE,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBjB,IACA,MAAMkB,EAAaD,EAAM,cAAc,SAAS,aAAa,EAAE,MAC/D,GAAIC,EAAW,KAAM,IAAK,GAAI,CAC5BH,EAAS,KAAK,CACZ,QAAS,wCACT,aAAc,UACd,gBAAiB,UACjB,aAAc,QACd,SAAU,WACV,SAAU,GAChB,CAAK,EACD,MACJ,MACIpB,EAAY,EAAIuB,EAAW,OAE7BP,IACAf,EAAiBD,CAAW,EACzB,KAAKmB,GAAYD,EAAiBC,CAAQ,CAAC,EAC3C,KAAKZ,GAAQD,EAAcC,EAAK,IAAI,CAAC,EACrC,MAAMiB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACb1B,EAAK,KAAK,QACVmB,GACN,CAAK,CACL,CAEAnB,EAAK,KAAK,iBAAiB,SAAUuB,CAAQ"}